{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "catchme-button",
  "title": "Catchme Button",
  "description": "Button that moves away from cursor when hovered",
  "dependencies": [
    "@radix-ui/react-slot",
    "class-variance-authority"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/foliokit/catchme-button/index.tsx",
      "content": "import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\n\r\nfunction cn(...classes: (string | undefined | null | false)[]) {\r\n    return classes.filter(Boolean).join(\" \")\r\n}\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost:\r\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9\",\r\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\r\n        \"icon-sm\": \"size-8\",\r\n        \"icon-lg\": \"size-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n  evade?: boolean\r\n  evadeDistance?: number\r\n  evadeThreshold?: number\r\n  boundaryWidth?: number\r\n  boundaryHeight?: number\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  (\r\n    {\r\n      className,\r\n      variant,\r\n      size,\r\n      asChild = false,\r\n      evade = false,\r\n      evadeDistance = 180,\r\n      evadeThreshold = 150,\r\n      boundaryWidth = 400,\r\n      boundaryHeight = 300,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    const buttonRef = React.useRef<HTMLButtonElement>(null)\r\n    const [position, setPosition] = React.useState({ x: 0, y: 0 })\r\n    const [isEvading, setIsEvading] = React.useState(false)\r\n\r\n    React.useImperativeHandle(ref, () => buttonRef.current!)\r\n\r\n    React.useEffect(() => {\r\n      if (!evade || !buttonRef.current) return\r\n\r\n      const handleMouseMove = (e: MouseEvent) => {\r\n        if (!buttonRef.current) return\r\n\r\n        const button = buttonRef.current\r\n        const rect = button.getBoundingClientRect()\r\n\r\n        // Calculate button center\r\n        const buttonCenterX = rect.left + rect.width / 2\r\n        const buttonCenterY = rect.top + rect.height / 2\r\n\r\n        // Calculate distance from mouse to button center\r\n        const deltaX = e.clientX - buttonCenterX\r\n        const deltaY = e.clientY - buttonCenterY\r\n        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY)\r\n\r\n        if (distance < evadeThreshold) {\r\n          setIsEvading(true)\r\n\r\n          // Calculate angle from mouse to button\r\n          const angle = Math.atan2(deltaY, deltaX)\r\n\r\n          // Calculate evasion intensity (stronger when closer)\r\n          const intensity = 1 - distance / evadeThreshold\r\n          const currentEvadeDistance = evadeDistance * intensity\r\n\r\n          // Calculate new position (move away from mouse)\r\n          const moveX = -Math.cos(angle) * currentEvadeDistance\r\n          const moveY = -Math.sin(angle) * currentEvadeDistance\r\n\r\n          // Apply boundaries\r\n          const maxX = boundaryWidth\r\n          const maxY = boundaryHeight\r\n\r\n          const clampedX = Math.max(-maxX, Math.min(maxX, moveX))\r\n          const clampedY = Math.max(-maxY, Math.min(maxY, moveY))\r\n\r\n          setPosition({ x: clampedX, y: clampedY })\r\n        } else if (distance > evadeThreshold * 1.8) {\r\n          setIsEvading(false)\r\n          setPosition({ x: 0, y: 0 })\r\n        }\r\n      }\r\n\r\n      window.addEventListener(\"mousemove\", handleMouseMove)\r\n\r\n      return () => {\r\n        window.removeEventListener(\"mousemove\", handleMouseMove)\r\n      }\r\n    }, [evade, evadeDistance, evadeThreshold, boundaryWidth, boundaryHeight])\r\n\r\n    return (\r\n      <Comp\r\n        ref={buttonRef}\r\n        data-slot=\"button\"\r\n        data-variant={variant}\r\n        data-size={size}\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        style={\r\n          evade && (position.x !== 0 || position.y !== 0 || isEvading)\r\n            ? {\r\n                transform: `translate(${position.x}px, ${position.y}px) scale(${\r\n                  isEvading ? 1.08 : 1\r\n                }) rotate(${position.x * 0.02}deg)`,\r\n                boxShadow: isEvading\r\n                  ? \"0 25px 50px -12px rgba(0, 0, 0, 0.3), 0 0 40px rgba(139, 92, 246, 0.4), 0 0 80px rgba(59, 130, 246, 0.2)\"\r\n                  : undefined,\r\n                transition:\r\n                  \"transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.4s ease, background 0.3s ease\",\r\n              }\r\n            : undefined\r\n        }\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}