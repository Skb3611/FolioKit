{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "catchme-button",
  "title": "Catchme Button",
  "description": "Button that moves away from cursor when hovered",
  "dependencies": [
    "@radix-ui/react-slot",
    "class-variance-authority"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/foliokit/catchme-button/index.tsx",
      "content": "import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Slot } from \"@radix-ui/react-slot\";\n\nfunction cn(...classes: (string | undefined | null | false)[]) {\n  return classes.filter(Boolean).join(\" \");\n}\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n  evade?: boolean;\n  evadeDistance?: number;\n  evadeThreshold?: number;\n  boundaryWidth?: number;\n  boundaryHeight?: number;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      className,\n      variant,\n      size,\n      asChild = false,\n      evade = false,\n      evadeDistance = 180,\n      evadeThreshold = 150,\n      boundaryWidth = 400,\n      boundaryHeight = 300,\n      ...props\n    },\n    ref,\n  ) => {\n    const Comp = asChild ? Slot : \"button\";\n    const buttonRef = React.useRef<HTMLButtonElement>(null);\n    const [position, setPosition] = React.useState({ x: 0, y: 0 });\n    const [isEvading, setIsEvading] = React.useState(false);\n\n    React.useImperativeHandle(ref, () => buttonRef.current!);\n\n    React.useEffect(() => {\n      if (!evade || !buttonRef.current) return;\n\n      const handleMouseMove = (e: MouseEvent) => {\n        if (!buttonRef.current) return;\n\n        const button = buttonRef.current;\n        const rect = button.getBoundingClientRect();\n\n        // Calculate button center\n        const buttonCenterX = rect.left + rect.width / 2;\n        const buttonCenterY = rect.top + rect.height / 2;\n\n        // Calculate distance from mouse to button center\n        const deltaX = e.clientX - buttonCenterX;\n        const deltaY = e.clientY - buttonCenterY;\n        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n\n        if (distance < evadeThreshold) {\n          setIsEvading(true);\n\n          // Calculate angle from mouse to button\n          const angle = Math.atan2(deltaY, deltaX);\n\n          // Calculate evasion intensity (stronger when closer)\n          const intensity = 1 - distance / evadeThreshold;\n          const currentEvadeDistance = evadeDistance * intensity;\n\n          // Calculate new position (move away from mouse)\n          const moveX = -Math.cos(angle) * currentEvadeDistance;\n          const moveY = -Math.sin(angle) * currentEvadeDistance;\n\n          // Apply boundaries\n          const maxX = boundaryWidth;\n          const maxY = boundaryHeight;\n\n          const clampedX = Math.max(-maxX, Math.min(maxX, moveX));\n          const clampedY = Math.max(-maxY, Math.min(maxY, moveY));\n\n          setPosition({ x: clampedX, y: clampedY });\n        } else if (distance > evadeThreshold * 1.8) {\n          setIsEvading(false);\n          setPosition({ x: 0, y: 0 });\n        }\n      };\n\n      window.addEventListener(\"mousemove\", handleMouseMove);\n\n      return () => {\n        window.removeEventListener(\"mousemove\", handleMouseMove);\n      };\n    }, [evade, evadeDistance, evadeThreshold, boundaryWidth, boundaryHeight]);\n\n    return (\n      <Comp\n        ref={buttonRef}\n        data-slot=\"button\"\n        data-variant={variant}\n        data-size={size}\n        className={cn(buttonVariants({ variant, size, className }))}\n        style={\n          evade && (position.x !== 0 || position.y !== 0 || isEvading)\n            ? {\n                transform: `translate(${position.x}px, ${position.y}px) scale(${\n                  isEvading ? 1.08 : 1\n                }) rotate(${position.x * 0.02}deg)`,\n                boxShadow: isEvading\n                  ? \"0 25px 50px -12px rgba(0, 0, 0, 0.3), 0 0 40px rgba(139, 92, 246, 0.4), 0 0 80px rgba(59, 130, 246, 0.2)\"\n                  : undefined,\n                transition:\n                  \"transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.4s ease, background 0.3s ease\",\n              }\n            : undefined\n        }\n        {...props}\n      />\n    );\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}