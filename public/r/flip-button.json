{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "flip-button",
  "title": "Flip Button",
  "description": "Button that flips when Hovered",
  "dependencies": [
    "motion"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/foliokit/flip-button/index.tsx",
      "content": "\"use client\";\n\nimport React, { CSSProperties, useEffect } from \"react\";\nimport { motion, HTMLMotionProps } from \"motion/react\";\n\nfunction cn(...classes: (string | undefined | null | false)[]) {\n  return classes.filter(Boolean).join(\" \");\n}\n\n// Inject animations into the document\nconst injectFlipAnimations = () => {\n  if (typeof document === \"undefined\") return;\n\n  const styleId = \"Flip-animations-styles\";\n  if (document.getElementById(styleId)) return;\n\n  const style = document.createElement(\"style\");\n  style.id = styleId;\n  style.textContent = `\n    @keyframes Flip-slide {\n      to {\n        transform: translate(calc(100cqw - 100%), 0);\n      }\n    }\n\n    @keyframes spin-around {\n      0% {\n        transform: translateZ(0) rotate(0);\n      }\n      15%, 35% {\n        transform: translateZ(0) rotate(90deg);\n      }\n      65%, 85% {\n        transform: translateZ(0) rotate(270deg);\n      }\n      100% {\n        transform: translateZ(0) rotate(360deg);\n      }\n    }\n\n    .animate-Flip-slide {\n      animation: Flip-slide var(--speed, 3s) ease-in-out infinite alternate;\n    }\n\n    .animate-spin-around {\n      animation: spin-around calc(var(--speed, 3s) * 2) infinite linear;\n    }\n  `;\n  document.head.appendChild(style);\n};\n\ninterface FlipButtonProps extends Omit<HTMLMotionProps<\"button\">, \"style\"> {\n  FlipColor?: string;\n  FlipSize?: string;\n  borderRadius?: string;\n  FlipDuration?: string;\n  background?: string;\n  className?: string;\n  children?: React.ReactNode;\n  flipContent?: React.ReactNode;\n  flipFrom?: \"top\" | \"bottom\" | \"left\" | \"right\";\n  tapScale?: number;\n  style?: CSSProperties;\n  flipBackground?: string;\n  flipTextColor?: string;\n}\n\nconst buildVariant = ({\n  opacity,\n  rotation,\n  offset,\n  isVertical,\n  rotateAxis,\n}: {\n  opacity: number;\n  rotation: number;\n  offset: string | null;\n  isVertical: boolean;\n  rotateAxis: string;\n}) => ({\n  opacity,\n  [rotateAxis]: rotation,\n  ...(isVertical && offset !== null ? { y: offset } : {}),\n  ...(!isVertical && offset !== null ? { x: offset } : {}),\n});\n\nconst FlipButton = React.forwardRef<HTMLButtonElement, FlipButtonProps>(\n  (props, ref) => {\n    const {\n      FlipColor = \"#ffffff\",\n      FlipSize = \"0.05em\",\n      FlipDuration = \"3s\",\n      borderRadius = \"20px\",\n      background = \"rgba(0, 0, 0, 1)\",\n      className,\n      children,\n      flipContent,\n      flipFrom = \"top\",\n      tapScale = 0.95,\n      style,\n      flipBackground = \"rgba(255, 255, 255, 1)\",\n      flipTextColor = \"#000000\",\n      ...restProps\n    } = props;\n\n    // Inject animations on mount\n    useEffect(() => {\n      injectFlipAnimations();\n    }, []);\n\n    const isVertical = flipFrom === \"top\" || flipFrom === \"bottom\";\n    const rotateAxis = isVertical ? \"rotateX\" : \"rotateY\";\n    const frontOffset =\n      flipFrom === \"top\" || flipFrom === \"left\" ? \"50%\" : \"-50%\";\n    const backOffset =\n      flipFrom === \"top\" || flipFrom === \"left\" ? \"-50%\" : \"50%\";\n\n    const frontVariants = {\n      initial: buildVariant({\n        opacity: 1,\n        rotation: 0,\n        offset: \"0%\",\n        isVertical,\n        rotateAxis,\n      }),\n      hover: buildVariant({\n        opacity: 0,\n        rotation: 90,\n        offset: frontOffset,\n        isVertical,\n        rotateAxis,\n      }),\n    };\n\n    const backVariants = {\n      initial: buildVariant({\n        opacity: 0,\n        rotation: -90,\n        offset: backOffset,\n        isVertical,\n        rotateAxis,\n      }),\n      hover: buildVariant({\n        opacity: 1,\n        rotation: 0,\n        offset: \"0%\",\n        isVertical,\n        rotateAxis,\n      }),\n    };\n\n    // Slower, more realistic transition\n    const transition = {\n      type: \"spring\" as const,\n      stiffness: 180,\n      damping: 25,\n      mass: 1.2,\n    };\n\n    const buttonStyle: CSSProperties = {\n      \"--spread\": \"90deg\",\n      \"--flip-color\": FlipColor,\n      \"--radius\": borderRadius,\n      \"--speed\": FlipDuration,\n      \"--cut\": FlipSize,\n      \"--bg\": background,\n      \"--flip-bg\": flipBackground,\n      ...style,\n    } as CSSProperties;\n\n    // If no flip content, render regular Flip button\n    if (!flipContent) {\n      return (\n        <button\n          style={buttonStyle}\n          className={cn(\n            \"group relative z-0 flex cursor-pointer items-center justify-center overflow-hidden rounded-lg border border-white/10 whitespace-nowrap text-white [background:var(--bg)]\",\n            \"transform-gpu transition-transform duration-300 ease-in-out active:translate-y-px\",\n            className,\n          )}\n          ref={ref}\n          {...(restProps as React.ButtonHTMLAttributes<HTMLButtonElement>)}\n        >\n          {/* spark container */}\n          <div\n            className={cn(\n              \"-z-30 blur-[5px]\",\n              \"@container-[size] absolute inset-0 overflow-visible\",\n            )}\n          >\n            <div className=\"animate-Flip-slide absolute inset-0 aspect-[1] h-[100cqh] rounded-none [mask:none]\">\n              <div className=\"animate-spin-around absolute -inset-full w-auto [translate:0_0] rotate-0 [background:conic-gradient(from_calc(270deg-(var(--spread)*0.5)),transparent_0,var(--Flip-color)_var(--spread),transparent_var(--spread))]\" />\n            </div>\n          </div>\n          {children}\n\n          {/* Highlight */}\n          <div\n            className={cn(\n              \"absolute inset-0 size-full\",\n              \"rounded-2xl px-4 py-1.5 text-sm font-medium shadow-[inset_0_-8px_10px_#ffffff1f]\",\n              \"transform-gpu transition-all duration-300 ease-in-out\",\n              \"group-hover:shadow-[inset_0_-6px_10px_#ffffff3f]\",\n              \"group-active:shadow-[inset_0_-10px_10px_#ffffff3f]\",\n            )}\n          />\n\n          {/* backdrop */}\n          <div\n            className={cn(\n              \"absolute inset-(--cut) -z-20 rounded-lg [background:var(--bg)]\",\n            )}\n          />\n        </button>\n      );\n    }\n\n    // Render flip button with Flip effect\n    return (\n      <motion.button\n        initial=\"initial\"\n        whileHover=\"hover\"\n        whileTap={{ scale: tapScale }}\n        style={{\n          ...buttonStyle,\n          display: \"inline-grid\",\n          placeItems: \"center\",\n          perspective: \"1000px\",\n          transformStyle: \"preserve-3d\",\n        }}\n        className={cn(\n          \"group relative z-0 cursor-pointer overflow-hidden rounded-lg border border-white/10 px-10 py-2 whitespace-nowrap [background:var(--bg)]\",\n          \"transform-gpu\",\n          className,\n        )}\n        ref={ref}\n        {...restProps}\n      >\n        {/* Background layer that changes color on hover */}\n        <motion.div\n          className=\"absolute inset-0 rounded-lg\"\n          initial={{ opacity: 0 }}\n          variants={{\n            initial: { opacity: 0 },\n            hover: { opacity: 1 },\n          }}\n          transition={transition}\n          style={{\n            background: flipBackground,\n            zIndex: 0,\n          }}\n        />\n\n        {/* spark container - fades out on hover */}\n        <motion.div\n          className={cn(\n            \"-z-30 blur-[2px]\",\n            \"@container-[size] absolute inset-0 overflow-visible\",\n          )}\n          variants={{\n            initial: { opacity: 1 },\n            hover: { opacity: 0 },\n          }}\n          transition={transition}\n        >\n          <div className=\"animate-Flip-slide absolute inset-0 aspect-[1] h-[100cqh] rounded-none [mask:none]\">\n            <div className=\"animate-spin-around absolute -inset-full w-auto [translate:0_0] rotate-0 [background:conic-gradient(from_calc(270deg-(var(--spread)*0.5)),transparent_0,var(--Flip-color)_var(--spread),transparent_var(--spread))]\" />\n          </div>\n        </motion.div>\n\n        {/* Front face - white text */}\n        <motion.span\n          variants={frontVariants}\n          transition={transition}\n          style={{\n            gridArea: \"1 / 1\",\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            zIndex: 1,\n            color: \"#ffffff\",\n            transformStyle: \"preserve-3d\",\n            backfaceVisibility: \"hidden\",\n          }}\n        >\n          {children}\n        </motion.span>\n\n        {/* Back face - black text */}\n        <motion.span\n          variants={backVariants}\n          transition={transition}\n          style={{\n            gridArea: \"1 / 1\",\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            color: flipTextColor,\n            zIndex: 1,\n            transformStyle: \"preserve-3d\",\n            backfaceVisibility: \"hidden\",\n          }}\n        >\n          {flipContent}\n        </motion.span>\n\n        {/* Highlight - fades out on hover */}\n        <motion.div\n          className={cn(\n            \"absolute inset-0 size-full\",\n            \"rounded-2xl px-4 py-1.5 text-sm font-medium shadow-[inset_0_-8px_10px_#ffffff1f]\",\n            \"transform-gpu transition-all duration-300 ease-in-out\",\n            \"group-hover:shadow-[inset_0_-6px_10px_#ffffff3f]\",\n            \"group-active:shadow-[inset_0_-10px_10px_#ffffff3f]\",\n          )}\n          variants={{\n            initial: { opacity: 1 },\n            hover: { opacity: 0 },\n          }}\n          transition={transition}\n        />\n\n        {/* backdrop */}\n        <div\n          className={cn(\n            \"absolute inset-(--cut) -z-20 rounded-lg [background:var(--bg)]\",\n          )}\n        />\n      </motion.button>\n    );\n  },\n);\n\nFlipButton.displayName = \"FlipButton\";\n\nexport { FlipButton, type FlipButtonProps };\n",
      "type": "registry:component",
      "target": "components/ui/foliokit/flip-button.tsx"
    }
  ],
  "type": "registry:component"
}