{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "flip-button",
  "title": "Flip Button",
  "description": "Button that flips when Hovered",
  "dependencies": [
    "motion"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/foliokit/flip-button/index.tsx",
      "content": "\"use client\"\r\n\r\nimport React, { CSSProperties, useEffect } from \"react\"\r\nimport { motion, HTMLMotionProps } from \"motion/react\"\r\n\r\nfunction cn(...classes: (string | undefined | null | false)[]) {\r\n    return classes.filter(Boolean).join(\" \")\r\n}\r\n\r\n// Inject animations into the document\r\nconst injectFlipAnimations = () => {\r\n  if (typeof document === 'undefined') return;\r\n  \r\n  const styleId = 'Flip-animations-styles';\r\n  if (document.getElementById(styleId)) return;\r\n\r\n  const style = document.createElement('style');\r\n  style.id = styleId;\r\n  style.textContent = `\r\n    @keyframes Flip-slide {\r\n      to {\r\n        transform: translate(calc(100cqw - 100%), 0);\r\n      }\r\n    }\r\n\r\n    @keyframes spin-around {\r\n      0% {\r\n        transform: translateZ(0) rotate(0);\r\n      }\r\n      15%, 35% {\r\n        transform: translateZ(0) rotate(90deg);\r\n      }\r\n      65%, 85% {\r\n        transform: translateZ(0) rotate(270deg);\r\n      }\r\n      100% {\r\n        transform: translateZ(0) rotate(360deg);\r\n      }\r\n    }\r\n\r\n    .animate-Flip-slide {\r\n      animation: Flip-slide var(--speed, 3s) ease-in-out infinite alternate;\r\n    }\r\n\r\n    .animate-spin-around {\r\n      animation: spin-around calc(var(--speed, 3s) * 2) infinite linear;\r\n    }\r\n  `;\r\n  document.head.appendChild(style);\r\n};\r\n\r\ninterface FlipButtonProps extends Omit<HTMLMotionProps<\"button\">, 'style'> {\r\n  FlipColor?: string\r\n  FlipSize?: string\r\n  borderRadius?: string\r\n  FlipDuration?:string\r\n  background?: string\r\n  className?: string\r\n  children?: React.ReactNode\r\n  flipContent?: React.ReactNode\r\n  flipFrom?: 'top' | 'bottom' | 'left' | 'right'\r\n  tapScale?: number\r\n  style?: CSSProperties\r\n  flipBackground?: string\r\n  flipTextColor?: string\r\n}\r\n\r\nconst buildVariant = ({\r\n  opacity,\r\n  rotation,\r\n  offset,\r\n  isVertical,\r\n  rotateAxis,\r\n}: {\r\n  opacity: number\r\n  rotation: number\r\n  offset: string | null\r\n  isVertical: boolean\r\n  rotateAxis: string\r\n}) => ({\r\n  opacity,\r\n  [rotateAxis]: rotation,\r\n  ...(isVertical && offset !== null ? { y: offset } : {}),\r\n  ...(!isVertical && offset !== null ? { x: offset } : {}),\r\n})\r\n\r\nconst FlipButton = React.forwardRef<HTMLButtonElement, FlipButtonProps>(\r\n  (props, ref) => {\r\n    const {\r\n      FlipColor = \"#ffffff\",\r\n      FlipSize = \"0.05em\",\r\n      FlipDuration = \"3s\",\r\n      borderRadius = \"100px\",\r\n      background = \"rgba(0, 0, 0, 1)\",\r\n      className,\r\n      children,\r\n      flipContent,\r\n      flipFrom = 'top',\r\n      tapScale = 0.95,\r\n      style,\r\n      flipBackground = \"rgba(255, 255, 255, 1)\",\r\n      flipTextColor = \"#000000\",\r\n      ...restProps\r\n    } = props\r\n\r\n    // Inject animations on mount\r\n    useEffect(() => {\r\n      injectFlipAnimations();\r\n    }, []);\r\n\r\n    const isVertical = flipFrom === 'top' || flipFrom === 'bottom'\r\n    const rotateAxis = isVertical ? 'rotateX' : 'rotateY'\r\n    const frontOffset = flipFrom === 'top' || flipFrom === 'left' ? '50%' : '-50%'\r\n    const backOffset = flipFrom === 'top' || flipFrom === 'left' ? '-50%' : '50%'\r\n\r\n    const frontVariants = {\r\n      initial: buildVariant({\r\n        opacity: 1,\r\n        rotation: 0,\r\n        offset: '0%',\r\n        isVertical,\r\n        rotateAxis,\r\n      }),\r\n      hover: buildVariant({\r\n        opacity: 0,\r\n        rotation: 90,\r\n        offset: frontOffset,\r\n        isVertical,\r\n        rotateAxis,\r\n      }),\r\n    }\r\n\r\n    const backVariants = {\r\n      initial: buildVariant({\r\n        opacity: 0,\r\n        rotation: -90,\r\n        offset: backOffset,\r\n        isVertical,\r\n        rotateAxis,\r\n      }),\r\n      hover: buildVariant({\r\n        opacity: 1,\r\n        rotation: 0,\r\n        offset: '0%',\r\n        isVertical,\r\n        rotateAxis,\r\n      }),\r\n    }\r\n\r\n    // Slower, more realistic transition\r\n    const transition = { \r\n      type: 'spring' as const, \r\n      stiffness: 180, \r\n      damping: 25,\r\n      mass: 1.2\r\n    }\r\n\r\n    const buttonStyle: CSSProperties = {\r\n      \"--spread\": \"90deg\",\r\n      \"--flip-color\": FlipColor,\r\n      \"--radius\": borderRadius,\r\n      \"--speed\": FlipDuration,\r\n      \"--cut\": FlipSize,\r\n      \"--bg\": background,\r\n      \"--flip-bg\": flipBackground,\r\n      ...style,\r\n    } as CSSProperties\r\n\r\n    // If no flip content, render regular Flip button\r\n    if (!flipContent) {\r\n      return (\r\n        <button\r\n          style={buttonStyle}\r\n          className={cn(\r\n            \"group relative z-0 flex cursor-pointer items-center justify-center overflow-hidden rounded-lg border border-white/10 whitespace-nowrap text-white [background:var(--bg)]\",\r\n            \"transform-gpu transition-transform duration-300 ease-in-out active:translate-y-px\",\r\n            className\r\n          )}\r\n          ref={ref}\r\n          {...(restProps as React.ButtonHTMLAttributes<HTMLButtonElement>)}\r\n        >\r\n          {/* spark container */}\r\n          <div\r\n            className={cn(\r\n              \"-z-30 blur-[5px]\",\r\n              \"@container-[size] absolute inset-0 overflow-visible\"\r\n            )}\r\n          >\r\n            <div className=\"animate-Flip-slide absolute inset-0 aspect-[1] h-[100cqh] rounded-none [mask:none]\">\r\n              <div className=\"animate-spin-around absolute -inset-full w-auto [translate:0_0] rotate-0 [background:conic-gradient(from_calc(270deg-(var(--spread)*0.5)),transparent_0,var(--Flip-color)_var(--spread),transparent_var(--spread))]\" />\r\n            </div>\r\n          </div>\r\n          {children}\r\n\r\n          {/* Highlight */}\r\n          <div\r\n            className={cn(\r\n              \"absolute inset-0 size-full\",\r\n              \"rounded-2xl px-4 py-1.5 text-sm font-medium shadow-[inset_0_-8px_10px_#ffffff1f]\",\r\n              \"transform-gpu transition-all duration-300 ease-in-out\",\r\n              \"group-hover:shadow-[inset_0_-6px_10px_#ffffff3f]\",\r\n              \"group-active:shadow-[inset_0_-10px_10px_#ffffff3f]\"\r\n            )}\r\n          />\r\n\r\n          {/* backdrop */}\r\n          <div\r\n            className={cn(\r\n              \"absolute inset-(--cut) -z-20 rounded-lg [background:var(--bg)]\"\r\n            )}\r\n          />\r\n        </button>\r\n      )\r\n    }\r\n\r\n    // Render flip button with Flip effect\r\n    return (\r\n      <motion.button\r\n        initial=\"initial\"\r\n        whileHover=\"hover\"\r\n        whileTap={{ scale: tapScale }}\r\n        style={{\r\n          ...buttonStyle,\r\n          display: 'inline-grid',\r\n          placeItems: 'center',\r\n          perspective: '1000px',\r\n          transformStyle: 'preserve-3d',\r\n        }}\r\n        className={cn(\r\n          \"group relative z-0 cursor-pointer overflow-hidden rounded-lg border border-white/10 px-6 py-3 whitespace-nowrap [background:var(--bg)]\",\r\n          \"transform-gpu\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...restProps}\r\n      >\r\n        {/* Background layer that changes color on hover */}\r\n        <motion.div\r\n          className=\"absolute inset-0 rounded-lg\"\r\n          initial={{ opacity: 0 }}\r\n          variants={{\r\n            initial: { opacity: 0 },\r\n            hover: { opacity: 1 }\r\n          }}\r\n          transition={transition}\r\n          style={{\r\n            background: flipBackground,\r\n            zIndex: 0,\r\n          }}\r\n        />\r\n\r\n        {/* spark container - fades out on hover */}\r\n        <motion.div\r\n          className={cn(\r\n            \"-z-30 blur-[2px]\",\r\n            \"@container-[size] absolute inset-0 overflow-visible\"\r\n          )}\r\n          variants={{\r\n            initial: { opacity: 1 },\r\n            hover: { opacity: 0 }\r\n          }}\r\n          transition={transition}\r\n        >\r\n          <div className=\"animate-Flip-slide absolute inset-0 aspect-[1] h-[100cqh] rounded-none [mask:none]\">\r\n            <div className=\"animate-spin-around absolute -inset-full w-auto [translate:0_0] rotate-0 [background:conic-gradient(from_calc(270deg-(var(--spread)*0.5)),transparent_0,var(--Flip-color)_var(--spread),transparent_var(--spread))]\" />\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Front face - white text */}\r\n        <motion.span\r\n          variants={frontVariants}\r\n          transition={transition}\r\n          style={{\r\n            gridArea: '1 / 1',\r\n            display: 'inline-flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 1,\r\n            color: '#ffffff',\r\n            transformStyle: 'preserve-3d',\r\n            backfaceVisibility: 'hidden',\r\n          }}\r\n        >\r\n          {children}\r\n        </motion.span>\r\n\r\n        {/* Back face - black text */}\r\n        <motion.span\r\n          variants={backVariants}\r\n          transition={transition}\r\n          style={{\r\n            gridArea: '1 / 1',\r\n            display: 'inline-flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            color: flipTextColor,\r\n            zIndex: 1,\r\n            transformStyle: 'preserve-3d',\r\n            backfaceVisibility: 'hidden',\r\n          }}\r\n        >\r\n          {flipContent}\r\n        </motion.span>\r\n\r\n        {/* Highlight - fades out on hover */}\r\n        <motion.div\r\n          className={cn(\r\n            \"absolute inset-0 size-full\",\r\n            \"rounded-2xl px-4 py-1.5 text-sm font-medium shadow-[inset_0_-8px_10px_#ffffff1f]\",\r\n            \"transform-gpu transition-all duration-300 ease-in-out\",\r\n            \"group-hover:shadow-[inset_0_-6px_10px_#ffffff3f]\",\r\n            \"group-active:shadow-[inset_0_-10px_10px_#ffffff3f]\"\r\n          )}\r\n          variants={{\r\n            initial: { opacity: 1 },\r\n            hover: { opacity: 0 }\r\n          }}\r\n          transition={transition}\r\n        />\r\n\r\n        {/* backdrop */}\r\n        <div\r\n          className={cn(\r\n            \"absolute inset-(--cut) -z-20 rounded-lg [background:var(--bg)]\"\r\n          )}\r\n        />\r\n      </motion.button>\r\n    )\r\n  }\r\n)\r\n\r\nFlipButton.displayName = \"FlipButton\"\r\n\r\nexport { FlipButton, type FlipButtonProps }",
      "type": "registry:ui"
    }
  ],
  "type": "registry:component"
}